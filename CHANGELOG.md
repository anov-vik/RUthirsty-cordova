# 更新日志

## 版本 1.1.0 - 2026-02-13

### ✨ 新增功能

**🎯 达成目标主题切换**
- 当今日总饮水量达到 1000ml 时，界面自动从紫色渐变切换为绿色渐变
- 包含以下视觉变化：
  - 顶部背景：紫色 → 绿色
  - 统计数字：紫色 → 绿色
  - 打卡按钮：紫色 → 绿色
  - 所有强调色：紫色 → 绿色

**🎉 达成目标庆祝效果**
- 首次达到 1000ml 时显示漂亮的 Toast 祝贺提示
- Toast 自动在 3 秒后消失
- 包含动画图标效果
- 设备震动反馈（支持的设备）

**🔄 动态主题切换**
- 平滑的颜色过渡动画（0.6秒）
- 清空记录后自动恢复紫色主题
- 刷新页面保持当前主题状态

### 📝 技术细节

**修改的文件：**
1. `www/css/index.css` - 添加绿色主题样式和 Toast 组件
2. `www/js/index.js` - 添加目标检测和庆祝逻辑
3. `www/index.html` - 添加 Toast 提示框结构

**新增 CSS 类：**
- `.goal-reached` - 应用于 body 元素，触发绿色主题
- `.celebration-toast` - Toast 提示框样式
- `.show` - Toast 显示状态

**新增 JS 方法：**
- `showGoalCelebration()` - 显示庆祝效果

### 🎨 颜色方案

**默认主题（紫色）：**
- 主色：#667eea → #764ba2

**目标达成主题（绿色）：**
- 主色：#10b981 → #059669

---

## 版本 1.0.0 - 2026-02-13

### 🎉 初始版本

- ✅ 基础打卡功能
- ✅ 记录列表显示
- ✅ 今日统计
- ✅ 本地数据持久化
- ✅ 响应式设计
- ✅ Cordova Android 支持

## 版本 1.2.0 - 2026-02-13

### ✨ 新增功能

**⏰ 定时提醒喝水**
- 每天固定时间点自动提醒喝水
- 提醒时间：6:30、9:30、11:30、13:30、17:30、19:30、21:30（共7次）
- 支持浏览器通知、应用内 Toast 提示和震动反馈
- 可在设置中开启/关闭提醒功能

**🎚️ 设置界面**
- 新增设置容器，展示提醒配置
- 精美的切换开关设计
- 显示所有提醒时间点说明

**🔔 智能提醒机制**
- 每个时间点每天只提醒一次
- 自动记录已发送的提醒
- 每日零点自动重置
- 主题色自动适配（紫色/绿色）

### 📝 技术细节

**新增文件：**
1. `www/test-reminder.html` - 提醒功能测试页面
2. `REMINDER_GUIDE.md` - 提醒功能使用指南

**修改文件：**
1. `www/js/index.js` - 添加提醒逻辑
2. `www/css/index.css` - 添加设置界面样式
3. `www/index.html` - 添加设置界面
4. `config.xml` - 添加通知权限配置

**新增功能：**
- `loadSettings()` - 加载提醒设置
- `saveSettings()` - 保存提醒设置
- `handleReminderToggle()` - 处理开关切换
- `initNotifications()` - 初始化通知
- `requestNotificationPermission()` - 请求通知权限
- `startReminderTimer()` - 启动提醒定时器
- `checkAndSendReminder()` - 检查并发送提醒
- `sendWaterReminder()` - 发送喝水提醒
- `showToast()` - 通用 Toast 提示

**Android 权限：**
- `POST_NOTIFICATIONS` - 发送通知权限
- `VIBRATE` - 震动权限

### 🎨 UI 改进

**新增组件：**
- 设置容器（白色卡片）
- iOS 风格切换开关
- 提醒说明文字

**颜色适配：**
- 开关在紫色主题下为紫色
- 开关在绿色主题下为绿色
- 平滑过渡动画
